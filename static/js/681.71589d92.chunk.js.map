{"version":3,"file":"static/js/681.71589d92.chunk.js","mappings":"6LAMAA,EAA4BC,EAAQ,IAA5BC,EAASF,EAATE,UAAWC,EAAIH,EAAJG,KA4InB,UAtIgB,WACd,IAAAC,GAA0BC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjCI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAA4BL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAjCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAEhBG,EAAiBZ,IAAjBY,aACFC,EAAiB,SAAAC,OAAYF,EAAY,YAC/CG,GAAsDZ,EAAAA,EAAAA,UAAS,IAAGa,GAAAX,EAAAA,EAAAA,GAAAU,EAAA,GAA3DE,EAAmBD,EAAA,GAAEE,EAAsBF,EAAA,GAelD,OAZAG,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,GAASP,GACNQ,MAAK,SAAAC,GAEJJ,EAAuBI,EAASC,QAClC,IACCC,OAAM,SAAAlB,GACLC,EAASD,GACTK,EAAU,WACZ,GACJ,GAAG,CAACE,IAEW,aAAXH,GACKe,EAAAA,EAAAA,KAAA,MAAAC,SAAA,+CAAAZ,OAAiBR,EAAMqB,YAI9BC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAH,SAAA,EACED,EAAAA,EAAAA,KAAA,MAAAC,SAAI,gBAE4B,IAA/BT,EAAoBa,OACnB,qBAEAL,EAAAA,EAAAA,KAAA,OAAKM,UAAU,YAAYC,GAAG,mBAAkBN,SAC7CT,EAAoBgB,KACnB,SAAAC,GAAmD,IAAhDC,EAAcD,EAAdC,eAAgBH,EAAEE,EAAFF,GAAII,EAAMF,EAANE,OAAQC,EAAOH,EAAPG,QAASC,EAAGJ,EAAHI,IAClCC,EAAaJ,EAAeK,YAkBhC,OAbID,EAFAA,EACEA,EAAWE,SAAS,OACTF,EACVG,QAAQ,gBAAiB,YACzBC,OAEO,mCAAA7B,OAAsCyB,GAGrCK,GAObnB,EAAAA,EAAAA,KAAA,OAAAC,UACEE,EAAAA,EAAAA,MAAA,OAAKG,UAAU,iBAAgBL,SAAA,EAC7BD,EAAAA,EAAAA,KAAA,MAAIM,UAAU,mBAAkBL,UAC9BE,EAAAA,EAAAA,MAAA,UACEG,UAAU,6BACVc,KAAK,SACL,iBAAe,WACf,iCAAA/B,OAAgCkB,GAChC,gBAAc,QACd,+BAAAlB,OAA8BkB,GAC9Bc,MAAO,CAAEC,SAAU,UAAWrB,SAAA,CAC/B,qBAECE,EAAAA,EAAAA,MAAA,UAAAF,SAAA,CAAQ,IAAC,GAAAZ,OAAIsB,GAAS,aAG1BX,EAAAA,EAAAA,KAAA,OACEO,GAAE,eAAAlB,OAAiBkB,GACnBD,UAAU,8BACV,iBAAe,oBAAmBL,UAElCE,EAAAA,EAAAA,MAAA,OACEG,UAAU,iBACVe,MAAO,CACLE,MAAO,OACPC,QAAS,QACTvB,SAAA,EAEFD,EAAAA,EAAAA,KAAA,OACEyB,IAAKX,EACLR,UAAU,eACVoB,IAAI,MACJL,MAAO,CACLM,SAAU,QACVC,SAAU,QACVC,OAAQ,OACRC,YAAa,WAIjB3B,EAAAA,EAAAA,MAAA,OACEkB,MAAO,CACLG,QAAS,OACTO,cAAe,UACf9B,SAAA,EAEFE,EAAAA,EAAAA,MAAA,MAAAF,SAAA,EACED,EAAAA,EAAAA,KAAA,UAAAC,SAAQ,YACRD,EAAAA,EAAAA,KAAA,KAAAC,SAAIS,EAAesB,eAErB7B,EAAAA,EAAAA,MAAA,MAAAF,SAAA,EACED,EAAAA,EAAAA,KAAA,UAAAC,SAAQ,eACRD,EAAAA,EAAAA,KAAA,KAAGqB,MAAO,CAAEC,SAAU,QAASrB,SAAA,GAAAZ,OAAKuB,EAAQqB,MAC1C,EACA,KACD,aAGHjC,EAAAA,EAAAA,KAACxB,EAAI,CACH0D,GAAE,GAAA7C,OAAKwB,GACPP,UAAU,kBACV6B,OAAO,SACPC,IAAI,aAAYnC,SACjB,0BA/DDM,EAwEd,QAMZ,C","sources":["components/Reviews.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { getQuery } from 'services/fetch';\n\nimport defaultImg from '../images/noUser.jpg';\n// console.log('defaultImg:', defaultImg);\n\nconst { useParams, Link } = require('react-router-dom');\n\n// Для приймання динамич. параметрів використовуємо useParams\n\n// інформація про огляди\n// Рендериться на сторінці MovieDetails.\nconst Reviews = () => {\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('');\n\n  const { currentMovie } = useParams();\n  const URL_QUERY_OPTIONS = `movie/${currentMovie}/reviews`; // рядок запиту згідно з API\n  const [currentMovieReviews, setCurrentMovieReviews] = useState([]);\n  // console.log('Reviews >> currentMovieReviews:', currentMovieReviews);\n\n  useEffect(() => {\n    getQuery(URL_QUERY_OPTIONS)\n      .then(response => {\n        // console.log('getQuery >> response:', response);\n        setCurrentMovieReviews(response.results);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [URL_QUERY_OPTIONS]);\n\n  if (status === 'rejected') {\n    return <h2>{`Помилка: ${error.message}`}</h2>;\n  }\n\n  return (\n    <>\n      <h3>THE REVIEWS</h3>\n\n      {currentMovieReviews.length === 0 ? (\n        'No any review yet'\n      ) : (\n        <div className=\"accordion\" id=\"accordionExample\">\n          {currentMovieReviews.map(\n            ({ author_details, id, author, content, url }) => {\n              let currentSrc = author_details.avatar_path;\n              // console.log('currentSrc 1:', currentSrc);\n\n              if (currentSrc) {\n                if (currentSrc.includes('www')) {\n                  currentSrc = currentSrc\n                    .replace('/https://www.', 'https://')\n                    .trim();\n                } else {\n                  currentSrc = `https://image.tmdb.org/t/p/w500/${currentSrc}`;\n                }\n              } else {\n                currentSrc = defaultImg;\n                // currentSrc = 'images/noUser.jpg'; // ??? чомусь не завантажується такий шлях\n                // Довелось робити через  import defaultImg from '../images/noUser.jpg'\n              }\n              // console.log('currentSrc 2:', currentSrc);\n\n              return (\n                <div key={id}>\n                  <div className=\"accordion-item\">\n                    <h2 className=\"accordion-header\">\n                      <button\n                        className=\"accordion-button collapsed\"\n                        type=\"button\"\n                        data-bs-toggle=\"collapse\"\n                        data-bs-target={`#collapseTwo-${id}`}\n                        aria-expanded=\"false\"\n                        aria-controls={`collapseTwo-${id}`}\n                        style={{ fontSize: '1.2rem' }}\n                      >\n                        Review from: &nbsp;\n                        <strong> {`${author}`} </strong>\n                      </button>\n                    </h2>\n                    <div\n                      id={`collapseTwo-${id}`}\n                      className=\"accordion-collapse collapse\"\n                      data-bs-parent=\"#accordionExample\"\n                    >\n                      <div\n                        className=\"accordion-body\"\n                        style={{\n                          width: '100%',\n                          display: 'flex',\n                        }}\n                      >\n                        <img\n                          src={currentSrc}\n                          className=\"card-img-top\"\n                          alt=\"...\"\n                          style={{\n                            minWidth: '150px',\n                            maxWidth: '150px',\n                            height: '100%',\n                            marginRight: '20px',\n                          }}\n                        />\n\n                        <div\n                          style={{\n                            display: 'flex',\n                            flexDirection: 'column',\n                          }}\n                        >\n                          <h4>\n                            <strong>Name: </strong>\n                            <p>{author_details.username}</p>\n                          </h4>\n                          <h5>\n                            <strong>Message: </strong>\n                            <p style={{ fontSize: '1rem' }}>{`${content.slice(\n                              0,\n                              300\n                            )}...`}</p>\n                          </h5>\n\n                          <Link\n                            to={`${url}`}\n                            className=\"btn btn-primary\"\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                          >\n                            Read more\n                          </Link>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              );\n            }\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n"],"names":["_require","require","useParams","Link","_useState","useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","status","setStatus","currentMovie","URL_QUERY_OPTIONS","concat","_useState5","_useState6","currentMovieReviews","setCurrentMovieReviews","useEffect","getQuery","then","response","results","catch","_jsx","children","message","_jsxs","_Fragment","length","className","id","map","_ref","author_details","author","content","url","currentSrc","avatar_path","includes","replace","trim","defaultImg","type","style","fontSize","width","display","src","alt","minWidth","maxWidth","height","marginRight","flexDirection","username","slice","to","target","rel"],"sourceRoot":""}