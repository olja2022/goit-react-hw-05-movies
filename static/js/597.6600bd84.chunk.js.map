{"version":3,"file":"static/js/597.6600bd84.chunk.js","mappings":"sMAuHA,UAhHa,WACX,IAAAA,GAA0BC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAjCI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAA4BL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAjCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAEhBG,GAAiBC,EAAAA,EAAAA,MAAjBD,aACFE,EAAiB,SAAAC,OAAYH,EAAY,YAC/CI,GAAgDb,EAAAA,EAAAA,UAAS,IAAGc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAArDE,EAAgBD,EAAA,GAAEE,EAAmBF,EAAA,GAe5C,OAZAG,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,GAASP,GACNQ,MAAK,SAAAC,GAEJJ,EAAoBI,EAASC,KAC/B,IACCC,OAAM,SAAAnB,GACLC,EAASD,GACTK,EAAU,WACZ,GACJ,GAAG,CAACG,IAEW,aAAXJ,GACKgB,EAAAA,EAAAA,KAAA,MAAAC,SAAA,+CAAAZ,OAAiBT,EAAMsB,YAI9BC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAH,SAAA,EACED,EAAAA,EAAAA,KAAA,MAAAC,SAAI,aAEyB,IAA5BT,EAAiBa,OAChB,0BAEAL,EAAAA,EAAAA,KAAA,OAAKM,UAAU,YAAYC,GAAG,mBAAkBN,SAC7CT,EAAiBgB,KAChB,SAAAC,GAA2D,IAAxDF,EAAEE,EAAFF,GAAIG,EAASD,EAATC,UAAWC,EAAYF,EAAZE,aAAcC,EAAIH,EAAJG,KAAMC,EAAaJ,EAAbI,cAG9BC,EAAOJ,EACVK,cACAC,QAAQ,kBAAmB,IAC3BC,OACH,OACEjB,EAAAA,EAAAA,KAAA,OAAAC,UACEE,EAAAA,EAAAA,MAAA,OAAKG,UAAU,iBAAgBL,SAAA,EAC7BD,EAAAA,EAAAA,KAAA,MAAIM,UAAU,mBAAkBL,UAC9BD,EAAAA,EAAAA,KAAA,UACEM,UAAU,6BACVY,KAAK,SACL,iBAAe,WACf,8BAAA7B,OAA6BkB,EAAE,KAAAlB,OAAIyB,GACnC,gBAAc,QACd,4BAAAzB,OAA2BkB,EAAE,KAAAlB,OAAIyB,GACjCK,MAAO,CAAEC,SAAU,UAAWnB,SAE7BW,OAGLZ,EAAAA,EAAAA,KAAA,OACEO,GAAE,YAAAlB,OAAckB,EAAE,KAAAlB,OAAIyB,GACtBR,UAAU,8BACV,iBAAe,oBAAmBL,UAElCE,EAAAA,EAAAA,MAAA,OACEG,UAAU,iBACVa,MAAO,CACLE,MAAO,OACPC,QAAS,QACTrB,SAAA,EAEFD,EAAAA,EAAAA,KAAA,OACEuB,IACEZ,EAAY,kCAAAtB,OAC0BsB,GAClCa,EAENlB,UAAU,eACVmB,IAAI,MACJN,MAAO,CACLO,SAAU,QACVC,SAAU,QACVC,OAAQ,OACRC,YAAa,WAGjB1B,EAAAA,EAAAA,MAAA,OACEgB,MAAO,CACLG,QAAS,OACTQ,cAAe,UACf7B,SAAA,EAEFE,EAAAA,EAAAA,MAAA,MAAAF,SAAA,EACED,EAAAA,EAAAA,KAAA,UAAAC,SAAQ,YACRD,EAAAA,EAAAA,KAAA,KAAAC,SAAIY,QAENV,EAAAA,EAAAA,MAAA,MAAAF,SAAA,EACED,EAAAA,EAAAA,KAAA,UAAAC,SAAQ,YACRD,EAAAA,EAAAA,KAAA,KAAAC,SAAIS,mBAKR,GAAArB,OA3DKkB,EAAE,KAAAlB,OAAIyB,GA8DvB,QAMZ,C","sources":["components/Cast.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getQuery } from 'services/fetch';\nimport defaultImg from '../images/noUser.jpg';\n\n// Інформація про акторський склад\n// Рендериться на сторінці MovieDetails.\nconst Cast = () => {\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('');\n\n  const { currentMovie } = useParams();\n  const URL_QUERY_OPTIONS = `movie/${currentMovie}/credits`;\n  const [currentMovieCast, setCurrentMovieCast] = useState([]);\n  // console.log('Cast >> currentMovieCast:', currentMovieCast);\n\n  useEffect(() => {\n    getQuery(URL_QUERY_OPTIONS)\n      .then(response => {\n        // console.log('getQuery >> response:', response);\n        setCurrentMovieCast(response.cast);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [URL_QUERY_OPTIONS]);\n\n  if (status === 'rejected') {\n    return <h2>{`Помилка: ${error.message}`}</h2>;\n  }\n\n  return (\n    <>\n      <h3>THE CAST</h3>\n\n      {currentMovieCast.length === 0 ? (\n        'The cast is unknown :('\n      ) : (\n        <div className=\"accordion\" id=\"accordionExample\">\n          {currentMovieCast.map(\n            ({ id, character, profile_path, name, original_name }) => {\n              // Такий key та селектори в акордеоні довелось робити через те, що трапляються випадки, коли актор у фільмі записаний два рази (помилка у базі бекенду).\n              // А ще один актор може зніматись у декількох ролях і тоді його ролі йдуть через косу лінію.\n              const char = character\n                .toLowerCase()\n                .replace(/[^a-zA-Z0-9-_]/g, '') // видаляє всі заборонені в селекторах символи\n                .trim();\n              return (\n                <div key={`${id}-${char}`}>\n                  <div className=\"accordion-item\">\n                    <h2 className=\"accordion-header\">\n                      <button\n                        className=\"accordion-button collapsed\"\n                        type=\"button\"\n                        data-bs-toggle=\"collapse\"\n                        data-bs-target={`#collapse-${id}-${char}`}\n                        aria-expanded=\"false\"\n                        aria-controls={`collapse-${id}-${char}`}\n                        style={{ fontSize: '1.2rem' }}\n                      >\n                        {name}\n                      </button>\n                    </h2>\n                    <div\n                      id={`collapse-${id}-${char}`}\n                      className=\"accordion-collapse collapse\"\n                      data-bs-parent=\"#accordionExample\"\n                    >\n                      <div\n                        className=\"accordion-body\"\n                        style={{\n                          width: '100%',\n                          display: 'flex',\n                        }}\n                      >\n                        <img\n                          src={\n                            profile_path\n                              ? `https://image.tmdb.org/t/p/w500${profile_path}`\n                              : defaultImg\n                          }\n                          className=\"card-img-top\"\n                          alt=\"...\"\n                          style={{\n                            minWidth: '150px',\n                            maxWidth: '150px',\n                            height: '100%',\n                            marginRight: '20px',\n                          }}\n                        />\n                        <div\n                          style={{\n                            display: 'flex',\n                            flexDirection: 'column',\n                          }}\n                        >\n                          <h2>\n                            <strong>Name: </strong>\n                            <p>{original_name}</p>\n                          </h2>\n                          <h3>\n                            <strong>Role: </strong>\n                            <p>{character}</p>\n                          </h3>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              );\n            }\n          )}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Cast;\n"],"names":["_useState","useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","status","setStatus","currentMovie","useParams","URL_QUERY_OPTIONS","concat","_useState5","_useState6","currentMovieCast","setCurrentMovieCast","useEffect","getQuery","then","response","cast","catch","_jsx","children","message","_jsxs","_Fragment","length","className","id","map","_ref","character","profile_path","name","original_name","char","toLowerCase","replace","trim","type","style","fontSize","width","display","src","defaultImg","alt","minWidth","maxWidth","height","marginRight","flexDirection"],"sourceRoot":""}